{
    "collab_server" : "",
    "contents" : "#' Create crosssections from a Star object\n#'\n#'\n#'\n#' @param Star a Star Object that contains columns \"BeamId\" and \"SegmentId\", as created by \\code{create_star()}\n#'\n#' @return List of dataframes\n#'\n#' @examples\n#' create_star_crosssections(Star)\n#'\n#' @details  Splits the dataframe ofa \\code{Star} into its constituent beams (identified by their \"BeamId\"). Binds the data of each beam to the reverse of its opposite beam. This creates crosssections with the original geographic center of the \\code{Star} in the center of the crosssections.\n#'\n#'\n#'   The number of beams must be an even number.\n#' @seealso\n#' \\code{\\link{create_star}},\n#' \\code{\\link{split_star_into_beams}}\n#' @export\n#' @import sp\n#' @author Johannes Mast\n\n\n\n\n##Helpful function for reversing a dataframe\n#myfun3<-function(x){x[dim(x)[1]:1,]} ##Credit to user 5th @ stackoverflow\n\ncreate_star_crosssections <- function(Star){\n\n  # Calculate the number of crosssections\n  NCrossSections <- length(unique(Star$BeamId))/2\n  ##Assert that the number of beams is even\n  stopifnot(length(unique(Star$BeamId)) %%2==0)\n\n  ## Split the star into its component beams\n  StarDataByBeams <- split_star_into_beams(Star)\n  #Create a reversed version of the second half of the beams\n  SecondHalfOfBeamsReversed <- lapply(StarDataByBeams[(NCrossSections+1):length(StarDataByBeams)],function(x){x[dim(x)[1]:1,]})\n  #Create an nonreversed version of the first half of the beams\n  FirstHalfOfBeams <- StarDataByBeams[1:NCrossSections]\n  #Bind the counterparts to create NCrossSections Crosssections\n  Map(rbind,SecondHalfOfBeamsReversed,FirstHalfOfBeams)\n\n}\n\n",
    "created" : 1548457446626.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "228040815",
    "id" : "3E174EC9",
    "lastKnownWriteTime" : 1548457459,
    "last_content_update" : 1548457459666,
    "path" : "~/Studiendateien/R_Scripts/UrbanStars/R/create_star_crosssections.R",
    "project_path" : "R/create_star_crosssections.R",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}